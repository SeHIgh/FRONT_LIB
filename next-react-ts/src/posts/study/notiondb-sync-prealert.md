# 노션DB 미리알림 연동 시키기

과거 Notion을 통해 일정을 관리하다가 애플 생태계의 동기화를 접하고

미리알림을 이용해 일정을 관리하게 되어 사용을 잘 안하게 되었는데…

최근 프로젝트들을 여러가지 하게 되면서 노션을 다시 사용하게 되면서

발견한 **Notion API**

웹 개발을 공부하면서 API를 이용해 커스텀이 가능하다는 것을 알게된 본인으로써는

매우 흥미가 가는 부분이였고,

이를 이용해 과게 노션을 떠나게 되었던 동기화 부분의 갈증을 해결할 수 있지 않을까?

하는 생각이 들어 구글 서치를 시작…

https://lhseunge.oopy.io/c71a9674-25ba-470b-b9ea-22d3904b1aa0

https://velog.io/@leeswoo/%EB%85%B8%EC%85%98-%EB%AF%B8%EB%A6%AC%EC%95%8C%EB%A6%BC

위 두 포스팅을 참고하여 아이폰 미리알림과 연동시켜 보았다.

**여기서 의문점을 가질 수 있는 부분**

노션 캘린더를 이용하면 애플 캘린더와 연동이 가능하지 않나?

- 계정 연동 시 캘린더에 작성한 내용이 동기화 되는 것은 물론 가능하지만,
노션 DB로 관리한 캘린더 내용은 노션 캘린더에만 연동이 되므로 아이폰에서 노션 캘린더를 주로 사용해야하는 문제가 발생

따라서 아이폰의 미리알림과 API를 통해 DB와 연동하여 일정 관리를 하고자 한다.

매우 순조롭게 가는듯 하였으나…

![image.png](%E1%84%82%E1%85%A9%E1%84%89%E1%85%A7%E1%86%ABDB%20%E1%84%86%E1%85%B5%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%83%E1%85%A9%E1%86%BC%20%E1%84%89%E1%85%B5%E1%84%8F%E1%85%B5%E1%84%80%E1%85%B5%201c590f7daa898035ac02cb73f931f8d3/image.png)

내 노션 DB 캘린더의 핵심 기능 중 하나인 **디데이** 를 표시하기 위해선

`수식` 속성이 필수

- **디데이 수식 참고**
    
    ```jsx
    "D-" + format(dateBetween(prop("날짜"), now(), "days") + 1)
    ```
    

그래서 수식 적용을 위해 노션 API 공식 Docs 의 formula 부분을 참고하여 적용

https://developers.notion.com/reference/property-object#formula

![image.png](%E1%84%82%E1%85%A9%E1%84%89%E1%85%A7%E1%86%ABDB%20%E1%84%86%E1%85%B5%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%83%E1%85%A9%E1%86%BC%20%E1%84%89%E1%85%B5%E1%84%8F%E1%85%B5%E1%84%80%E1%85%B5%201c590f7daa898035ac02cb73f931f8d3/image%201.png)

하지만, 아무리 단축어를 통해 미리알림을 추가하여도

노션 DB에는 동기화가 안되는 문제 발생

![image.png](%E1%84%82%E1%85%A9%E1%84%89%E1%85%A7%E1%86%ABDB%20%E1%84%86%E1%85%B5%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%83%E1%85%A9%E1%86%BC%20%E1%84%89%E1%85%B5%E1%84%8F%E1%85%B5%E1%84%80%E1%85%B5%201c590f7daa898035ac02cb73f931f8d3/image%202.png)

그래서 `properties` 에서 `수식` 항목을 삭제 후 실행 시키니…

![image.png](%E1%84%82%E1%85%A9%E1%84%89%E1%85%A7%E1%86%ABDB%20%E1%84%86%E1%85%B5%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%83%E1%85%A9%E1%86%BC%20%E1%84%89%E1%85%B5%E1%84%8F%E1%85%B5%E1%84%80%E1%85%B5%201c590f7daa898035ac02cb73f931f8d3/image%203.png)

![image.png](%E1%84%82%E1%85%A9%E1%84%89%E1%85%A7%E1%86%ABDB%20%E1%84%86%E1%85%B5%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%85%E1%85%B5%E1%86%B7%20%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%83%E1%85%A9%E1%86%BC%20%E1%84%89%E1%85%B5%E1%84%8F%E1%85%B5%E1%84%80%E1%85%B5%201c590f7daa898035ac02cb73f931f8d3/image%204.png)

제대로 추가되면서 수식 까지 적용이 되는 모습이다…?

수식은 매번 재설정 하는 것이 아니라 하나의 지정된 수식으로 특정 조건에 따라 계산되어 표시되는 것이기 때문에 수식을 매번 따로 설정해서 오류가 발생한 것으로 예상된다.

`properties > 수식` 부분이 잘못 된 걸 수도 있겠지만

필자와 같은 문제를 겪은 사람이 있다면, 도움이 되었으면 좋겠다.